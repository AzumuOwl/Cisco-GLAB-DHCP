# GLAB
‚úÖ ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?
GLBP (Gateway Load Balancing Protocol)
‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏õ‡∏£‡πÇ‡∏ï‡∏Ñ‡∏≠‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ‡πÅ‡∏ö‡πà‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏™‡∏≥‡∏£‡∏≠‡∏á Gateway ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô (‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å HSRP/VRRP ‡∏ó‡∏µ‡πà Active ‡πÑ‡∏î‡πâ‡πÅ‡∏Ñ‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÉ‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô)
DHCP (Dynamic Host Configuration Protocol)
‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å IP address, Default Gateway ‡πÅ‡∏•‡∏∞ DNS Server ‡πÉ‡∏´‡πâ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

üéØ ‡∏à‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ô‡∏µ‡πâ
‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ 2 Router ‡∏´‡∏£‡∏∑‡∏≠ Layer 3 Switch ‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô Default Gateway ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (192.168.1.1) ‡∏ú‡πà‡∏≤‡∏ô GLBP
‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ ‡∏£‡∏±‡∏ö IP Address ‡πÅ‡∏•‡∏∞ Default Gateway ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡∏ú‡πà‡∏≤‡∏ô DHCP
‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î ‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡πÇ‡∏´‡∏•‡∏î (load balancing) ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï
‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ (redundancy) ‡∏´‡∏≤‡∏Å Gateway ‡∏ï‡∏±‡∏ß‡πÉ‡∏î‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏•‡πà‡∏°

‚ö†Ô∏è ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô VLAN ‡πÅ‡∏•‡∏∞ Subnet ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô (192.168.1.0/24)
‡πÉ‡∏ä‡πâ GLBP Group ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô (group 1) ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ Virtual IP ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô (192.168.1.1)
‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î priority ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡πÉ‡∏Ñ‡∏£‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô Active Virtual Gateway ‡∏Å‡πà‡∏≠‡∏ô (110 > 100)
‡πÉ‡∏ä‡πâ preempt ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Router ‡∏ó‡∏µ‡πà‡∏°‡∏µ priority ‡∏™‡∏π‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤ ‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏¢‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô Active ‡πÑ‡∏î‡πâ
glbp load-balancing round-robin ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å router ‡∏ä‡πà‡∏ß‡∏¢‡∏ï‡∏≠‡∏ö ARP

üõ†Ô∏è ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á
‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏≠‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï‡πÑ‡∏î‡πâ‡∏ú‡πà‡∏≤‡∏ô‡∏´‡∏•‡∏≤‡∏¢ Gateway ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏ Gateway ‡∏´‡∏•‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ uptime ‡∏™‡∏π‡∏á ‡πÄ‡∏ä‡πà‡∏ô data center, ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô, ‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£
‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ failover ‡πÅ‡∏•‡∏∞ load balancing ‡πÑ‡∏õ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô

üîó ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
‡∏ó‡∏±‡πâ‡∏á 2 Router ‡∏ï‡πà‡∏≠‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô subnet ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏ú‡πà‡∏≤‡∏ô Switch
‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö Switch ‡∏´‡∏£‡∏∑‡∏≠ Access Point ‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö Router ‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ
DHCP Server ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ï‡∏±‡∏ß Router ‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á DHCP (‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ router ‡∏ó‡∏µ‡πà‡∏°‡∏µ IP 192.168.1.2)

üìà ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö IP ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å‡∏ä‡πà‡∏ß‡∏á 192.168.1.11 ‡∏ñ‡∏∂‡∏á 192.168.1.254
Default Gateway ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ñ‡∏∑‡∏≠ 192.168.1.1 (Virtual Gateway ‡∏Ç‡∏≠‡∏á GLBP)
Router ‡∏ó‡∏µ‡πà‡∏°‡∏µ priority ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (110) ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô Active Virtual Gateway (AVG)
‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö ARP Gateway ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏ö‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ó‡∏±‡πâ‡∏á 2 ‡∏ï‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢‡∏Å‡∏±‡∏ô ‡∏ó‡∏≥‡πÉ‡∏´‡πâ Load Balancing
‡∏´‡∏≤‡∏Å Router ‡∏ï‡∏±‡∏ß‡πÉ‡∏î‡∏•‡πà‡∏° ‡∏≠‡∏µ‡∏Å‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏à‡∏∞‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ

üß† ‡∏™‡∏£‡∏∏‡∏õ
| ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£                 | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î                                                           |
| ---------------------- | -------------------------------------------------------------------- |
| ‡πÇ‡∏õ‡∏£‡πÇ‡∏ï‡∏Ñ‡∏≠‡∏•‡∏´‡∏•‡∏±‡∏Å           | GLBP (Load Balancing + Redundancy)                                   |
| Gateway ‡πÄ‡∏™‡∏°‡∏∑‡∏≠‡∏ô         | 192.168.1.1                                                          |
| Gateway ‡∏à‡∏£‡∏¥‡∏á           | 192.168.1.2, 192.168.1.3                                             |
| Router ‡πÑ‡∏´‡∏ô AVG         | ‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏°‡∏µ Priority 110 (‡∏Ñ‡∏∑‡∏≠ 192.168.1.2)                              |
| DHCP Server            | ‡πÅ‡∏à‡∏Å IP ‡∏à‡∏≤‡∏Å 192.168.1.11 - 192.168.1.254                              |
| Default Gateway ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ | 192.168.1.1                                                          |
| ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå               | ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏î single point of failure, balance traffic, failover ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ |
